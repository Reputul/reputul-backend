# Test database configuration
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

# JPA configuration for tests
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false

# Disable Flyway for tests (use JPA DDL instead)
spring.flyway.enabled=false

# H2 console for debugging if needed
spring.h2.console.enabled=true

# Mock environment variables for external services
CONVERTKIT_API_KEY=test-api-key
convertkit.api.secret=test-api-secret
convertkit.api.key=test-api-key

JWT_SECRET=test-jwt-secret-that-is-long-enough-for-testing-purposes
STRIPE_SECRET_KEY=sk_test_fake_key_for_testing
STRIPE_WEBHOOK_SECRET=whsec_test_webhook_secret
SENDGRID_API_KEY=SG.test-key-for-testing
TWILIO_ACCOUNT_SID=test-account-sid
TWILIO_AUTH_TOKEN=test-auth-token
TWILIO_PHONE_NUMBER=+15551234567

# Automation configuration
automation.webhook.connect-timeout=5000
automation.webhook.read-timeout=10000
automation.webhook.write-timeout=10000
automation.webhook.max-in-memory-size=1048576
automation.webhook.max-retries=3
automation.webhook.retry-delay-ms=1000